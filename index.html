<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Pomodoro statistics for Trello</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>

    <div class="main-container container">

        <h1>Pomodoro statistics for Trello</h1>


        <div id="loggedout">
            <a id="connect-link" href="#">Connect To Trello</a>
        </div>

        <div id="loggedin">

            <ul class="breadcrumb">
                <li>Logged in as <span id="user-fullname"></span> <span class="divider">/</span></li>
                <li><a id="disconnect" href="#">Log out</a></li>
            </ul>

            <div class="row">

                <div class="span5">
                    <!-- Select which board here -->
                    <div id="board-list">
                    </div>
                    <script id="board-list-tmpl" type="text/x-handlebars-template">
                        <h2>Select board:</h2>
                        <select id="board-list-select" class="wide">
                            {{#each boards}}
                                {{#with this}}
                                <option id="{{id}}">{{name}}</option>
                                {{/with}}
                            {{/each}}
                        </select>
                    </script>
                </div>

                <div class="span2 bigdivider">
                    &raquo;
                </div>

                <div class="span5">
                    <!-- Select which list on a board here -->
                    <div id="list-list" class="span5">
                    </div>
                    <script id="list-list-tmpl" type="text/x-handlebars-template">
                        <h2>Select list:</h2>
                        <select id="list-list-select" class="wide">
                            {{#each lists}}
                                {{#with this}}
                                <option id="{{id}}">{{name}}</option>
                                {{/with}}
                            {{/each}}
                        </select>
                    </script>
                </div><!--/.span5-->

            </div><!--/.row-->

            <div id="upload">
                <div class="alert alert-info"><p><b>The Trello API doesn't support downloading comments yet</b>, but instead you can do this:</p>
                    <ol>
                        <li><a target="_blank" class="btn btn-primary btn-mini" id="open-selected-list">click here</a> to
                        open the selected list</li> 
                        <li>export it as .json using the
                        bottom right link</li> 
                        
                        <li>Save it to your computer</li>
                        <li>drag it from your computer to the field below.
                    </ol>
                </div>

                <div id="upload-area">Drop the .json file here</div>
            </div>

            <div class="row stats">

                <div class="loading">
                    <img src="img/ajax-loader.gif" alt="Loading...">
                </div>

                <h2></h2>
                <div id="stats-basic">
                </div>
                <script id="board-list-tmpl" type="text/x-handlebars-template">
                    <h2>Summary</h2>
                    <select id="board-list-select" class="span2">
                        {{#each boards}}
                            {{#with this}}
                            <option id="{{id}}">{{name}}</option>
                            {{/with}}
                        {{/each}}
                    </select>
                </script>

            </div>


        </div><!--/#loggedin-->

    </div><!--/.container-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="https://api.trello.com/1/client.js?key=a11d3c76a7791cf02503f4344bd41ed2"></script>
    <script src="js/handlebars-1.0.0.beta.6.js"></script>
    <script src="js/TrelloStats.js"></script>
    <script>
        TrelloStats.init({ 
            output: $("#output"),  // Debug
            boardList: $("#board-list"), // List of boards
            boardListTmpl: $("#board-list-tmpl"), // Template for list of boards
            listList: $("#list-list"), // List of lists
            listListTmpl: $("#list-list-tmpl"), // Template for list of lists
            upload: $("#upload"), // Div containing upload help and upload field
            openSelectedList: $("#open-selected-list"), // Click element to open selected list in new window
           
        })
    </script>
</body>
</html>
